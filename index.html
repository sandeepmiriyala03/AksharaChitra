<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AksharaChitra</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Telugu&display=swap" rel="stylesheet" />
  <link href="Image.css" rel="stylesheet" />
 
  <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.js"></script>
  <link rel="manifest" href="manifest.json" />

</head>
<body>
  <header id="header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 1rem;">
    <img src="Logo.png" alt="Logo" style="width: 60px; height: auto;" />
    <h2 style="margin: 0;">AksharaChitra</h2>
  </header>

  <button id="installBtn" title="Install App" aria-label="Install Progressive Web App">Install App</button>

  <div class="tab-container">
    <div class="tab-buttons">
      <button class="tab-button active" onclick="openTab(event, 'app-tab')">Create Image</button>
      <button class="tab-button" onclick="openTab(event, 'howto-tab')">How to Use</button>
    </div>

    <div id="app-tab" class="tab-content active">
      <form id="form">
        <label for="language">Language / భాష:</label>
        <select id="language" aria-label="Language select">
          <option value="english">English</option>
          <option value="telugu">తెలుగు</option>
        </select>

        <label for="dateTime">Date and Time:</label>
        <input type="datetime-local" id="dateTime" aria-label="Date and time input" />

        <label for="backgroundColor">Background Color:</label>
        <input type="color" id="backgroundColor" aria-label="Background color picker" value="#ffffff" />

        <label for="imageUpload">Upload Image:</label>
      <div class="image-upload-wrapper">
  <input type="file" id="imageUpload" accept="image/*" aria-label="Upload Image" />
  <label for="imageUpload" class="custom-file-label">Choose Image</label>
</div>


        <label for="imagePosition">Image Position:</label>
        <select id="imagePosition" aria-label="Image position">
          <option value="left">Left</option>
          <option value="right">Right</option>
          <option value="top">Top</option>
          <option value="bottom">Bottom</option>
        </select>

        <label for="mainTitle">Main Title:</label>
        <input type="text" id="mainTitle" maxlength="80" placeholder="Enter main title" />

        <label for="subTitle">Subtitle:</label>
        <input type="text" id="subTitle" maxlength="100" placeholder="Enter subtitle" />
        <label for="textContent">Main Content:</label>
        <textarea id="textContent" rows="6" placeholder="Type your content here..."></textarea>
        <div class="format-buttons" aria-label="Text formatting buttons">
          <button type="button" id="boldBtn" aria-pressed="false" title="Bold"><b>Bold</b></button>
          <button type="button" id="italicBtn" aria-pressed="false" title="Italic"><i>Italic</i></button>
        </div>
        <div class="font-size-family">
          <label for="fontSize">Font Size:
            <select id="fontSize" aria-label="Select font size">
    
              <option value="12">12px</option>
              <option value="14" selected>14px</option>
              <option value="16" >16px</option>
              <option value="18" >18px</option>
              <option value="20" >20px</option>
              <option value="24">24px</option>
              <option value="30">30px</option>
            </select>
          </label>

          <label for="fontFamily">Font Family:
          <select id="fontFamily" aria-label="Font family select">
  <option value="Arial, sans-serif">Arial (English)</option>
  <option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">Segoe UI</option>
  <option value="Verdana, Geneva, Tahoma, sans-serif">Verdana</option>
  <option value="'Helvetica Neue', Helvetica, Arial, sans-serif">Helvetica Neue</option>
  <option value="'Times New Roman', Times, serif">Times New Roman</option>
  <option value="Georgia, serif">Georgia</option>
  <option value="'Noto Sans', sans-serif">Noto Sans (Multi-language)</option>
  <option value="'Noto Sans Telugu', 'Gautami', serif">Noto Sans Telugu</option>
  <option value="'Roboto', sans-serif">Roboto</option>
  <option value="'Open Sans', sans-serif">Open Sans</option>
  <option value="'Lato', sans-serif">Lato</option>
  <option value="'Montserrat', sans-serif">Montserrat</option>
</select>

          </label>
        </div>

        <div class="font-color-align">
          <label for="fontColor">Font Color:
            <input type="color" id="fontColor" aria-label="Font color picker" value="#000000" />
          </label>

          <label for="textAlign">Text Align:
            <select id="textAlign" aria-label="Text alignment select">
              <option value="left">Left</option>
              <option value="center" selected>Center</option>
              <option value="right">Right</option>
            </select>
          </label>
        </div>

        <div class="form-buttons">
         
<button id="generateBtn">Generate Image</button>
<span id="generateSpinner" style="display:none; margin-left:8px;">⏳ Generating...</span>
          <button id="undoBtn" type="button" title="Undo">Undo</button>
          <button id="redoBtn" type="button" title="Redo">Redo</button>
          <button id="clearBtn" type="reset">Clear All</button>
        </div>
      </form>
<div style="margin-bottom: 16px; text-align: center; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 600; font-size: 1.4rem; color: #3a3f51; letter-spacing: 0.05em; text-transform: uppercase; user-select: none;">
  Preview Image

  <div id="preview" aria-live="polite" tabindex="0"></div>
</div>



<div style="height:16px;"></div>
      <div class="actions">
        <button id="downloadBtn" style="display:none;">Download Image</button>
        <button id="shareBtn" style="display:none;">Share on WhatsApp</button>
        <button id="editBtn" style="display:none;">Edit</button>
        <button id="deleteBtn" style="display:none;">Delete</button>
      </div>
      <div style="height:16px;"></div>
 <div id="generatedImageContainer"> 
  <div style="height:16px;"></div>
  <img id="generatedImage" alt="Generated Image" />
</div> 

<!-- <div style="margin: 12px 0; text-align: center;">
  <button id="imageCountBtn" style="background:#3949ab; color:#fff; border:none; border-radius:6px; padding:8px 18px; font-weight:600; cursor:default; user-select:none; min-width: 150px;">
    Images Generated: 0
  </button>
</div> -->


      <button id="goTopBtn" title="Go to top" aria-label="Scroll to top">↑</button>
    </div>

    <div id="howto-tab" class="tab-content">
      <h3>How to Use AksharaChitra - Simple Steps</h3>
      <ol class="steps-list">
        <li>
          <div class="step-title">Select Language</div>
          <div class="step-description">Choose your preferred language from the dropdown - English or Telugu (తెలుగు).</div>
        </li>
        <li>
          <div class="step-title">Set Date and Time (Optional)</div>
          <div class="step-description">Pick a date and time if you want to include it in your image.</div>
        </li>
        <li>
          <div class="step-title">Choose Background Color</div>
          <div class="step-description">Click the color picker to select your desired background color.</div>
        </li>
        <li>
          <div class="step-title">Upload an Image (Optional)</div>
          <div class="step-description">Click "Choose File" to upload an image and select its position (left, right, top, or bottom).</div>
        </li>
        <li>
          <div class="step-title">Enter Your Text</div>
          <div class="step-description">Fill in the main title, subtitle, footer text, and main content as needed.</div>
        </li>
        <li>
          <div class="step-title">Format Your Text</div>
          <div class="step-description">Use the toolbar to make text bold, italic, change font size, font family, color, and alignment.</div>
        </li>
        <li>
          <div class="step-title">Generate Image</div>
          <div class="step-description">Click the "Generate Image" button to create your custom image.</div>
        </li>
        <li>
          <div class="step-title">Download or Share</div>
          <div class="step-description">Once generated, you can download the image or share it directly on WhatsApp.</div>
        </li>
      </ol>
      <h4>Tips:</h4>
      <ul style="margin-top: 20px; padding-left: 20px;">
        <li>Use the Undo/Redo buttons to revert changes</li>
        <li>The preview updates in real-time as you make changes</li>
        <li>For Telugu text, select "Noto Sans Telugu" font for better display</li>
        <li>Keep titles short for better appearance</li>
      </ul>
    </div>
  </div>

  <!-- Cropper Modal -->
  <div id="cropModal" style="display:none; position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);align-items:center;justify-content:center;z-index:10000;">
    <div style="background:#fff;padding:20px;border-radius:8px;max-width:90vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;gap:10px;">
      <img id="cropImage" alt="Crop Image" style="max-width:100%;max-height:60vh;" />
      <div style="width:100%;display:flex;justify-content:flex-end;gap:10px;">
        <button id="cancelCropBtn" class="button">Cancel</button>
        <button id="cropConfirmBtn" class="button">Crop</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="footer-content">
      <div class="developer-info">
        Developed by <span class="developer-name">Sandeep Miriyala</span>
      </div>
      <div class="footer-subtitle">
        Creating beautiful images with Telugu and English text
      </div>
    </div>
  </div>

  <script src="image.js"></script>
  <script src="pwa.js"></script>
</body>
</html>
