<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AksharaChitra — Text → Image (Offline)</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Noto+Sans+Telugu&display=swap" rel="stylesheet">
  <!-- Cropper CSS -->
  <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.6.2/dist/cropper.min.css" rel="stylesheet" />
</head>
<body>
  <header class="topbar">
    

    <nav class="nav">
      <button class="tab-btn active" data-tab="home">🏠 Home</button>
      <button class="tab-btn" data-tab="create">🎨 Create</button>
      <button class="tab-btn" data-tab="ai">🧠 Akshara AI</button>
      <button class="tab-btn" data-tab="gallery">💾 My Creations</button>
      <button class="tab-btn" data-tab="help">📘 Help</button>
    </nav>

    <div class="right-controls">
      <button id="themeToggle" title="Toggle theme">🌙</button>
      <button id="installBtn" class="hidden" title="Install app">📲</button>
    </div>
  </header>

  <main class="content">
    <!-- HOME -->
    <section id="home" class="tab-content active">
      <h1>Welcome to AksharaChitra</h1>
      <p>Create text-based images (posters, invites, business cards, news) — fully offline!</p>
      <div id="welcomeSamples" class="sample-row"></div>
      <div style="margin-top:12px;"><button class="btn primary" data-open="create">Start Creating</button></div>
    </section>

    <!-- CREATE -->
    <section id="create" class="tab-content">
      <div class="editor">
        <div class="panel left-panel">
          <label>Language</label>
          <select id="language">
            <option>English</option><option>తెలుగు</option><option>हिंदी</option>
            <option>தமிழ்</option><option>ಕನ್ನಡ</option><option>മലയാളം</option><option>ଓଡ଼ିଆ</option>
          </select>

          <label>Template</label>
          <select id="templateSelect">
            <option value="">— choose —</option>
            <option value="news">News</option>
            <option value="birthday">Birthday</option>
            <option value="devotional">Devotional</option>
            <option value="business">Business Card</option>
            <option value="invitation">Invitation</option>
            <option value="quote">Quote</option>
          </select>

          <label>Title</label>
          <input id="title" type="text" placeholder="Title" />
          <label>Subtitle</label>
          <input id="subtitle" type="text" placeholder="Subtitle" />
          <label>Message</label>
          <textarea id="message" rows="4" placeholder="Write your message..."></textarea>

          <div class="row">
            <div><label>Font</label>
              <select id="fontFamily">
                <option value="Montserrat, sans-serif">Montserrat</option>
                <option value="'Noto Sans Telugu', serif">Noto Sans Telugu</option>
              </select>
            </div>
            <div><label>Size</label><input id="fontSize" type="number" min="12" max="72" value="20" /></div>
          </div>

          <div class="row">
            <div><label>Text Color</label><input id="textColor" type="color" value="#111111" /></div>
            <div><label>Background</label><input id="bgColor" type="color" value="#ffffff" /></div>
          </div>

          <label>Upload Image (crop available)</label>
          <input id="imageUpload" type="file" accept="image/*" />

          <label>Image Position</label>
          <select id="imagePosition">
            <option value="top">Top</option>
            <option value="bottom">Bottom</option>
            <option value="left">Left</option>
            <option value="right">Right</option>
            <option value="center" selected>Center</option>
          </select>

          <label>QR / Link (optional)</label>
          <input id="qrText" type="text" placeholder="https:// or phone/email" />

          <div class="row">
            <button id="clearBtn" class="btn ghost">Clear</button>
            <button id="saveBtn" class="btn">💾 Save</button>
            <button id="speechBtn" class="btn ghost">🎤 Speak</button>
          </div>

          <div class="row" style="margin-top:8px">
            <button id="generateBtn" class="btn primary">🖼 Generate</button>
            <button id="downloadBtn" class="btn">⬇ Download</button>
            <button id="shareBtn" class="btn ghost">📤 Share</button>
          </div>

          <small class="muted">Changes reflect instantly in preview →</small>
        </div>

        <div class="panel right-panel">
          <h3>Live Preview</h3>
          <div id="previewCard" class="card">
            <div id="pTitle" class="p-title"></div>
            <div id="pSubtitle" class="p-subtitle"></div>
            <div id="pImage" class="p-image"></div>
            <div id="pMessage" class="p-body"></div>
            <div id="pQR" class="p-qr"></div>
            <div class="watermark">aksharachitra.netlify.app</div>
          </div>

          <h4 style="margin-top:14px">My Creations</h4>
          <div id="galleryGrid" class="gallery-grid"></div>
        </div>
      </div>
    </section>

    <!-- HELP -->
    <section id="help" class="tab-content">
      <div class="panel">
        <h2>Help</h2>
        <ol>
          <li>Fill in your title, message, and upload an image.</li>
          <li>Choose where the image appears (Top/Bottom/Left/Right/Center).</li>
          <li>Click Generate → Download → Share.</li>
          <li>All works offline and installable as PWA.</li>
        </ol>
      </div>
    </section>
  </main>

  <!-- Cropper Modal -->
  <div id="cropModal" class="modal hidden">
    <div class="modal-content">
      <h3>Crop Image</h3>
      <div class="crop-container"><img id="cropImage" alt="Crop preview" /></div>
      <div class="modal-actions">
        <button id="cancelCropBtn" class="btn ghost">Cancel</button>
        <button id="applyCropBtn" class="btn primary">Apply</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.6.2/dist/cropper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="main.js" defer></script>
  <script src="pwa.js" defer></script>
</body>
</html>
