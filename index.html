<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AksharaChitra — Create Beautiful Posters Offline 🎨</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="logo.png">
  <link rel="apple-touch-icon" href="logo.png">
  <meta name="theme-color" content="#1e88e5">

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Noto+Sans+Telugu&display=swap" rel="stylesheet">
  <!-- Cropper CSS -->
  <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.6.2/dist/cropper.min.css" rel="stylesheet" />
</head>

<body>
  <!-- ♿ Skip to Main Content Button -->
  <a href="#mainContent" class="skip-link" aria-label="Skip to main content">⇩ Skip to Main Content</a>

  <!-- HEADER -->
  <header class="topbar" role="banner">
    <div class="left">
      <img src="Logo.png" alt="AksharaChitra logo" class="logo" onerror="this.style.display='none'">
      <span class="app-title">AksharaChitra</span>
    </div>

    <nav class="nav" role="navigation" aria-label="Main navigation">
      <button class="tab-btn active" data-tab="home" aria-controls="home">🏠 Home</button>
      <button class="tab-btn" data-tab="create" aria-controls="create">🎨 Create</button>
      <button class="tab-btn" data-tab="gallery" aria-controls="gallery">💾 My Creations</button>
      <button class="tab-btn" data-tab="help" aria-controls="help">📘 Help</button>
    </nav>

    <div class="right-controls">
      <button id="themeToggle" title="Toggle theme" aria-label="Toggle dark or light mode">🌙</button>
      <button id="installBtn" class="install-btn hidden" title="Install app" aria-label="Install app">📲</button>
    </div>
  </header>

  <!-- MAIN -->
  <main class="content" id="mainContent" role="main" tabindex="-1">
    <!-- 🏠 HOME PAGE -->
    <section id="home" class="tab-content active" aria-labelledby="home">
      <div class="hero">
        <img src="Logo.png" alt="AksharaChitra logo" class="hero-logo" onerror="this.style.display='none'">
        <h1>Welcome to <span class="highlight">AksharaChitra</span></h1>
        <p class="lead">Your smart, offline tool to create posters, invitations, and quotes instantly — from just text & image.</p>
        <button class="btn primary large" data-open="create" aria-label="Start creating">🚀 Start Creating Now</button>
      </div>

      <div class="section why">
        <h2>🌸 Why AksharaChitra?</h2>
        <p>AksharaChitra makes <strong>designing easy, fast, and available offline</strong>.  
        No heavy software, no design skills required — just your words, and we turn them into art.</p>

        <ul class="features" role="list">
          <li>✅ Works fully offline (PWA enabled)</li>
          <li>🎨 Supports multiple languages — English, తెలుగు, हिंदी, தமிழ், ಕನ್ನಡ, മലയാളം, ଓଡ଼ିଆ</li>
          <li>🖼️ Add your own images, adjust positions, and preview instantly</li>
          <li>💾 Save, Download, or Share posters directly</li>
          <li>🌈 Customize fonts, colors, glow/shadow effects & layout</li>
          <li>✨ Comes with built-in templates for birthdays, quotes, invites & more</li>
          <li>🔒 Your data is never uploaded — all creations stay safely in your own browser</li>
        </ul>
      </div>

      <div class="section how">
        <h2>🪄 How to Use</h2>
        <ol class="steps" role="list">
          <li>Choose your language & template</li>
          <li>Type your text & upload an image</li>
          <li>Customize colors, font, glow & layout</li>
          <li>Preview instantly and generate your poster</li>
        </ol>
      </div>

      <!-- Feedback Section -->
      <section class="feedback" aria-label="Feedback form">
        <div class="left">
          <img src="Logo.png" alt="AksharaChitra logo small" class="hero-logo" onerror="this.style.display='none'">
          <div>
            <p>💌 Help us improve AksharaChitra</p>
            <p class="muted">Share suggestions, bugs, or ideas — it only takes a minute.</p>
          </div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <a href="https://docs.google.com/forms/d/e/1FAIpQLSdkJ4AgmO7FJOZuhnLO7KaOkuc17fvbkcrBw1eXliwn7GPz4w/viewform?usp=publish-editor" 
             target="_blank" class="btn primary" aria-label="Give feedback">📝 Give Feedback</a>
        </div>
      </section>
    </section>

    <!-- 🎨 CREATE PAGE -->
  <section id="create" class="tab-content">
      <div class="editor">
        <!-- Left Panel -->
        <div class="panel left-panel">
          <label>Language</label>
          <select id="language">
            <option>English</option><option>తెలుగు</option><option>हिंदी</option>
            <option>தமிழ்</option><option>ಕನ್ನಡ</option><option>മലയാളം</option><option>ଓଡ଼ିଆ</option>
          </select>

          <label>Template</label>
          <select id="templateSelect">
            <option value="">— choose —</option>
            <option value="news">News</option>
            <option value="birthday">Birthday</option>
            <option value="devotional">Devotional</option>
            <option value="business">Business Card</option>
            <option value="invitation">Invitation</option>
            <option value="quote">Quote</option>
          </select>

          <hr class="divider">

          <h4>🖋️ Title</h4>
          <input id="title" type="text" placeholder="Enter title..." />
          <div class="row">
            <div>
              <label>Font Size</label>
              <input id="titleSize" type="number" min="10" max="80" value="28" />
            </div>
            <div>
              <label>Position</label>
              <select id="titleAlign">
                <option value="center" selected>Center</option>
                <option value="left">Left</option>
                <option value="right">Right</option>
              </select>
            </div>
          </div>

          <h4>🪶 Subtitle</h4>
          <input id="subtitle" type="text" placeholder="Enter subtitle..." />
          <div class="row">
            <div>
              <label>Font Size</label>
              <input id="subtitleSize" type="number" min="10" max="60" value="20" />
            </div>
            <div>
              <label>Position</label>
              <select id="subtitleAlign">
                <option value="center" selected>Center</option>
                <option value="left">Left</option>
                <option value="right">Right</option>
              </select>
            </div>
          </div>

          <h4>💬 Message</h4>
          <textarea id="message" rows="4" placeholder="Type your main message..."></textarea>
          <div class="row">
            <div>
              <label>Font Size</label>
              <input id="messageSize" type="number" min="10" max="48" value="18" />
            </div>
            <div>
              <label>Alignment</label>
              <select id="contentAlign">
                <option value="center" selected>Center</option>
                <option value="left">Left</option>
                <option value="right">Right</option>
              </select>
            </div>
          </div>

          <hr class="divider">

          <label>Font Family</label>
          <select id="fontFamily">
            <option value="Montserrat, sans-serif">Montserrat</option>
            <option value="'Noto Sans Telugu', serif">Noto Sans Telugu</option>
          </select>

          <div class="row">
            <div><label>Text Color</label><input id="textColor" type="color" value="#111111" /></div>
            <div><label>Background</label><input id="bgColor" type="color" value="#ffffff" /></div>
          </div>

          <h4>✨ Glow / Shadow</h4>
          <div class="row">
            <div><label>Color</label><input type="color" id="shadowColor" value="#000000" /></div>
            <div><label>Blur</label><input type="range" id="shadowBlur" min="0" max="30" value="0" /></div>
          </div>

          <label>Upload Image (Crop Supported)</label>
          <input id="imageUpload" type="file" accept="image/*" />

          <label>Image Position</label>
          <select id="imagePosition">
            <option value="top">Top</option>
            <option value="bottom">Bottom</option>
            <option value="left">Left</option>
            <option value="right">Right</option>
            <option value="center" selected>Center</option>
          </select>

          <label>QR / Link (optional)</label>
          <input id="qrText" type="text" placeholder="https:// or phone/email" />

          <div class="row actions">
            <button id="clearBtn" class="btn ghost">Clear</button>
            <button id="saveBtn" class="btn">💾 Save</button>
            <button id="generateBtn" class="btn primary">🖼 Generate</button>
          </div>

          <div class="row">
            <button id="downloadBtn" class="btn">⬇ Download</button>
            <button id="shareBtn" class="btn ghost">📤 Share</button>
          </div>

          <small class="muted">🎯 Tip: Changes reflect instantly in the live preview →</small>
        </div>

        <!-- Right Panel -->
        <div class="panel right-panel">
          <h3>Live Preview</h3>
          <div id="previewCard" class="card">
            <div id="pTitle" class="p-title"></div>
            <div id="pSubtitle" class="p-subtitle"></div>
            <div id="pImage" class="p-image"></div>
            <div id="pMessage" class="p-body"></div>
            <div id="pQR" class="p-qr"></div>
            <div class="watermark">aksharachitra.netlify.app</div>
          </div>

          <h4 style="margin-top:14px">My Creations</h4>
          <div id="galleryGrid" class="gallery-grid"></div>
        </div>
      </div>
    </section>

    <!-- 📘 HELP PAGE -->
    <section id="help" class="tab-content" aria-labelledby="help">
      <div class="panel">
        <h2>📘 Help & Tips</h2>
        <p>Follow these quick steps to make the most of AksharaChitra:</p>
        <ul class="help-list" role="list">
          <li>🖋️ Type your text, set font sizes, and alignments.</li>
          <li>🖼️ Upload an image, crop if needed, and choose its position.</li>
          <li>🎨 Adjust colors and glow for beautiful contrast.</li>
          <li>📤 Generate and share instantly — even offline.</li>
        </ul>
        <p class="muted">Need more help? Contact us via feedback form on the Home page.</p>
      </div>
    </section>
  </main>

  <!-- 🌐 FOOTER -->
  <footer class="footer" role="contentinfo">
    <p>© <span id="year"></span> <strong>AksharaChitra</strong> • Made with ❤️ by <strong>Sandeep Miriyala</strong></p>
    <button id="goTopBtn" class="go-top" aria-label="Go to top">⬆️ Go to Top</button>
  </footer>

  <!-- Cropper Modal -->
  <div id="cropModal" class="modal hidden">
    <div class="modal-content">
      <h3>Crop Image</h3>
      <div class="crop-container"><img id="cropImage" alt="Crop preview"></div>
      <div class="modal-actions">
        <button id="cancelCropBtn" class="btn ghost">Cancel</button>
        <button id="applyCropBtn" class="btn primary">Apply</button>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.6.2/dist/cropper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="main.js" defer></script>
  <script src="pwa.js" defer></script>

  <!-- Go to Top Script -->
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const goTopBtn = document.getElementById("goTopBtn");
    window.addEventListener("scroll", () => {
      goTopBtn.style.display = window.scrollY > 200 ? "block" : "none";
    });
    goTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

  document.addEventListener("DOMContentLoaded", () => {
    const startBtn = document.querySelector('[data-open="create"]');
    const tabButtons = document.querySelectorAll(".tab-btn");
    const tabContents = document.querySelectorAll(".tab-content");

    if (startBtn) {
      startBtn.addEventListener("click", () => {
        // Remove active state from all tabs
        tabButtons.forEach(btn => btn.classList.remove("active"));
        tabContents.forEach(sec => sec.classList.remove("active"));

        // Activate the Create tab
        const createBtn = document.querySelector('[data-tab="create"]');
        const createSection = document.getElementById("create");

        if (createBtn) createBtn.classList.add("active");
        if (createSection) createSection.classList.add("active");

        // Smooth scroll to the Create section
        createSection?.scrollIntoView({ behavior: "smooth", block: "start" });
      });
    }
  });
</script>
</body>
</html>
